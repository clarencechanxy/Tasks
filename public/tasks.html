<!doctype html>
<html xmlns:ng="http://angularjs.org">
<head>
<title>costs</title>
	<link type="text/css" rel="stylesheet" href="stylesheets/smoothness/jquery-ui-1.8.13.custom.css"/>
	<link type="text/css" rel="stylesheet" href="stylesheets/tasks.css"/>
	<script src="javascripts/angular-0.9.16.min.js" ng:autobind type="text/javascript"></script>
	<script src="javascripts/jquery-1.6.1.min.js" type="text/javascript"></script>
	<script src="javascripts/jquery-ui-1.8.13.custom.min.js" type="text/javascript"></script>
	<script src="javascripts/jquery.xcolor.js" type="text/javascript"></script>
	<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false&region=pl">
	<script src="javascripts/date.format.js" type="text/javascript"></script>
	<script src="javascripts/underscore-min.js" type="text/javascript"></script>
	<script src="javascripts/angular-widgets.js" type="text/javascript"></script>
	<script src="javascripts/task-controller.js" type="text/javascript"></script>
	<script type="text/javascript">
	$( function() {
		$('#ac').autocomplete({source:'/tasks/employees'});
	});
	</script>		
</head>

 <body>
 	<input type="text" id="ac"/>
 	<div style="width: 100%" ng:controller="TaskController">
 	<div id="form" style="height:310px;">
<!--
 		<ui:map style="height:300px;width:650px;border:2px solid #777777;float:right;" ui:options="{center:{lat:22,lng:52}, bindZoom:true, bindMapType:true}" ui:pin="edited.origin" ui:view="edited.mapView"></ui:map>
-->
 		<div><label>tytuł<input type="text" name="edited.title" ng:required style="width:500px"/></label></div>
 		<div><label>opis<textarea name="edited.description" style="width:500px; height:100px"></textarea></label></div>
 		<label>do: <input type="text" ui:date="edited.dueDate" ui:datepicker ui:options="{dateFormat:'dd/mm/yy', showWeek:true}" style="width:70px"/></label>
 		<label>do: <input type="text" ui:date="edited.dueDate" ui:datepicker ui:options="" style="width:70px"/></label>
 		<button ng:click="save()">zapisz</button>
 		{{edited}}
 	</div>
 	<table class="list">
 		<thead><tr><th></th><th>tytuł</th><th>do</th><th>status</th><th></th></tr></thead>
 		<tbody>
 	<label>szukaj: <input type="text" placeholder="filtruj" name="filter"/></label>
 	<tr ng:repeat="i in list.$filter(filter)" ng:class="isSelected(i)" ng:click="edit(i)">
 		<td align="right">{{i.votes.count}}<button disabled="{{i.votes.hasVoted}}" ng:click="vote(i)">+</button></td>
 		<td>{{i.title}}</td>
 		<td>{{i.dueDate.format('dd-mm-yyyy')}}</td>
 		<td>{{i.status}}<ui:progress style="float:right" ui:options="{maxValue:1}" ui:value="i.progress"></ui:progress></td>
 		<td><button ng:click="remove(i)">x</button></td>
 	</tr>
 	</tbody>
 	</table>
 	
 	<hr/>
 	{{list}}
 	</div>

 </body>
</html>